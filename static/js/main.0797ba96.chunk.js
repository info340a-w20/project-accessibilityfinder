(this["webpackJsonpmy-project"]=this["webpackJsonpmy-project"]||[]).push([[0],{114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(24),r=a.n(i),l=(a(78),a(8)),c=a(62),o=a(12),u=a(11),m=a(14),h=a(13),d=a(15),p=(a(79),a(80),a(29),a(31)),g=a(16),b=(a(81),a(5)),f=a(3),E=a(41),v=(a(86),a(87),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"category"},s.a.createElement(g.Link,{to:"/list",className:"no-background-btn",type:"button",onClick:function(t){return e.props.handleAmenitySearch("restaurant")}},s.a.createElement("span",{className:"fa-stack fa-3x"},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background"}),s.a.createElement(b.a,{icon:f.u,className:"fa-stack-1x"})),s.a.createElement("br",null),s.a.createElement("span",null,"Restaurant")),s.a.createElement(g.Link,{to:"/list",className:"no-background-btn",type:"button",onClick:function(t){return e.props.handleAmenitySearch("bar")}},s.a.createElement("span",{className:"fa-stack fa-3x"},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background"}),s.a.createElement(b.a,{icon:f.n,className:"fa-stack-1x"})),s.a.createElement("br",null),s.a.createElement("span",null,"Bar")),s.a.createElement(g.Link,{to:"/list",className:"no-background-btn",type:"button",onClick:function(t){return e.props.handleAmenitySearch("cafe")}},s.a.createElement("span",{className:"fa-stack fa-3x"},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background"}),s.a.createElement(b.a,{icon:f.j,className:"fa-stack-1x"})),s.a.createElement("br",null),s.a.createElement("span",null,"Cafe")),s.a.createElement(g.Link,{to:"/list",className:"no-background-btn",type:"button",onClick:function(t){return e.props.handleAmenitySearch("cinema")}},s.a.createElement("span",{className:"fa-stack fa-3x"},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background"}),s.a.createElement(b.a,{icon:f.m,className:"fa-stack-1x"})),s.a.createElement("br",null),s.a.createElement("span",null,"Movie")),s.a.createElement(g.Link,{to:"/list",className:"no-background-btn",type:"button",onClick:function(t){return e.props.handleAmenitySearch("theatre")}},s.a.createElement("span",{className:"fa-stack fa-3x"},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background"}),s.a.createElement(b.a,{icon:f.s,className:"fa-stack-1x"})),s.a.createElement("br",null),s.a.createElement("span",null,"Entertainment")))}}]),t}(n.Component)),y=a(39),k=(a(90),a(91),a(59),a(36)),w=a(71),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getCrowdsource=function(){var e=a.state;a.props.handleCrowdsource(e),a.props.toggleBoth()},a.submitted=!1,a.state={wheelchair:!1,ada:!1,stadium:!1,braille:!1,dn:!1,ad:!1,cc:!1,als:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.crowdsourcingData&&Object.entries(this.props.crowdsourcingData).map((function(t,a){t[0]==e.props.uniqueID&&(Object.entries(t[1]).forEach((function(t,a){e.setState(Object(l.a)({},t[0],!0))})),e.submitted=!0)}))}},{key:"color",value:function(e){var t={};t[e]=!this.state[e],this.setState(t)}},{key:"toggleSubmit",value:function(){return!1}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(k.a,{id:"editModal",show:this.props.show1,onHide:this.props.toggleModal1,"aria-labelledby":"editModalLabel","aria-hidden":"true",centered:!0},s.a.createElement(k.a.Header,{closeButton:!0},s.a.createElement(k.a.Title,{id:"editModalLabel"},this.submitted?"Edit your submission":"Submit an edit")),s.a.createElement(k.a.Body,null,s.a.createElement("form",{id:"crowdsource"},s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"wheelchair",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("wheelchair")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.wheelchair?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.v,className:"fa-stack-1x",style:this.state.wheelchair?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Wheelchair accessible")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"ada",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("ada")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.ada?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.k,className:"fa-stack-1x",style:this.state.ada?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"ADA doorways")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"stadium",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("stadium")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.stadium?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.d,className:"fa-stack-1x",style:this.state.stadium?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Stadium seating")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"braille",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("braille")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.braille?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.c,className:"fa-stack-1x",style:this.state.braille?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Braille")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"dn",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("dn")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.dn?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.o,className:"fa-stack-1x",style:this.state.dn?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Descriptive narration")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"ad",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("ad")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.ad?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.b,className:"fa-stack-1x",style:this.state.ad?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Audio description")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"cc",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("cc")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.cc?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.i,className:"fa-stack-1x",style:this.state.cc?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Closed captioning")),s.a.createElement("label",{class:"cs-checkbox"},s.a.createElement("input",{type:"checkbox",name:"features",value:"als",class:"features"}),s.a.createElement("span",{class:"fa-stack fa-3x",onClick:function(){return e.color("als")}},s.a.createElement(b.a,{icon:f.g,className:"fa-stack-2x icon-background",style:this.state.als?{color:"blue"}:{color:"lightgray"}}),s.a.createElement(b.a,{icon:f.a,className:"fa-stack-1x",style:this.state.als?{color:"white"}:{color:"black"}})),s.a.createElement("br",null),s.a.createElement("span",null,"Assistive listening systems")),s.a.createElement(k.a.Footer,null,s.a.createElement(w.a,{id:"cs-submit",disabled:this.toggleSubmit(),variant:"primary",onClick:function(t){return e.getCrowdsource()}},"Submit"))))),s.a.createElement(k.a,{id:"thankModal",show:this.props.show2,onHide:this.props.toggleModal2,"aria-labelledby":"thankModalLabel","aria-hidden":"true",centered:!0},s.a.createElement(k.a.Header,{closeButton:!0},s.a.createElement(k.a.Title,{id:"thankModalLabel"},"Thanks for the help!")),s.a.createElement(k.a.Body,null,"Thank you for your submission! You'll get an email when it has been reviewed.")))}}]),t}(n.Component),S=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"left-view-home",className:"home-page-info left-view"},s.a.createElement("nav",{class:"navbar navbar-light bg-light navbar-expand index-nav"},s.a.createElement("ul",{class:"navbar-nav"},s.a.createElement("li",{class:"nav-item active"},s.a.createElement(y.HashLink,{to:"#about",class:"nav-link"}," Who We Are")),s.a.createElement("li",{class:"nav-item"},s.a.createElement(y.HashLink,{to:"#mobility",class:"nav-link"},"Mobility")),s.a.createElement("li",{class:"nav-item"},s.a.createElement(y.HashLink,{to:"#vision",class:"nav-link"},"Vision")),s.a.createElement("li",{class:"nav-item"},s.a.createElement(y.HashLink,{to:"#hearing",class:"nav-link"},"Hearing")))),s.a.createElement(v,{handleAmenitySearch:this.props.handleAmenitySearch}),s.a.createElement(E.a,null,s.a.createElement("h2",{id:"about",class:"mainPageHeader"},"Who We Are"),s.a.createElement("p",null,"Accessibility Finder's goal is to give people the ability to enjoy and participate in activities that they love. Our website empowers people to give feedback through both reviews and crowdsourcing in order to share information on accessibility features in various locations."),s.a.createElement("h5",{id:"mobility"},"Mobility"),s.a.createElement("p",null,"Mobility impairment includes physical defects, including upper or lower limb loss or impairment, poor manual dexterity, and damage to one or multiple organs of the body. Disability in mobility can be a congenital or acquired problem or a consequence of disease. People who have a broken skeletal structure also fall into this category.",s.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Physical_disability"}," (source)")),s.a.createElement("h5",{id:"vision"},"Vision"),s.a.createElement("p",null,"Visual impairment, also known as vision impairment or vision loss, is a decreased ability to see to a degree that causes problems not fixable by usual means, such as glasses. Some also include those who have a decreased ability to see because they do not have access to glasses or contact lenses. The term blindness is used for complete or nearly complete vision loss. Visual impairment may cause people difficulties with normal daily activities such as driving, reading, socializing, and walking.",s.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Visual_impairment"}," (source)")),s.a.createElement("h5",{id:"hearing"},"Hearing"),s.a.createElement("p",null,"Hearing loss, also known as hearing impairment, is a partial or total inability to hear. A deaf person has little to no hearing. Hearing loss may occur in one or both ears. In children, hearing problems can affect the ability to learn spoken language and in adults it can create difficulties with social interaction and at work. Hearing loss can be temporary or permanent.",s.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Hearing_loss"}," (source)")),s.a.createElement(x,null)))}}]),t}(n.Component),O=a(42),N=a.n(O),j=a(18),C=a.n(j),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState({inputtedText:e.target.value})},a.handleSearch=function(e){e.preventDefault(),a.props.handleSearch(a.state.inputtedText),a.setState({inputtedText:""})},a.handleKeyPress=function(e){"Enter"===e.key&&(a.props.handleSearch(a.state.inputtedText),a.setState({inputtedText:""}),a.props.history.push("/list"))},a.state={inputtedText:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("header",null,s.a.createElement("nav",{class:"navbar universal-nav"},s.a.createElement("div",{id:"nav-link"},s.a.createElement(g.Link,{to:"/",class:"navbar-brand mb-0 h1 text-white",onClick:function(t){return e.props.renderLocations()}},s.a.createElement("span",{id:"name"},"Accessibility Finder"),s.a.createElement("span",{id:"acronym"},"Access")),this.props.isSignedIn?s.a.createElement("span",null,s.a.createElement("div",{class:"initial"},this.props.user[0]),s.a.createElement(g.Link,{to:"/",onClick:this.props.handleSignOut,class:"nav-item text-white"},"Sign Out")):s.a.createElement(g.Link,{to:"/signin",class:"nav-item text-white",onClick:function(t){return e.props.renderLocations()}},"Sign In")),s.a.createElement("div",{class:"input-group"},s.a.createElement("input",{type:"text",onKeyPress:this.handleKeyPress,onChange:this.handleChange,onSubmit:this.handleSearch,value:this.state.inputtedText,class:"form-control",id:"search",placeholder:"Search by name of place"}),s.a.createElement("div",{class:"input-group-append"},s.a.createElement(g.Link,{to:"/list",id:"main-places-search",class:"btn btn-outline-light",type:"button",onClick:function(t){e.props.handleSearch(e.state.inputtedText),e.setState({inputtedText:""})}},s.a.createElement(b.a,{icon:f.r,"aria-label":"search"}))))))}}]),t}(n.Component),M=Object(p.o)(A),L=(a(114),a(132)),I=a(133),D=a(131),T=a(134),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).onMapMoveEnd=function(e){a.props.handleMapMovement(e.target.getBounds())},a.popup=s.a.createRef(),a.state={zoom:13,lat:47.606209,lng:-122.332069,boundingbox:[],center:[47.606209,-122.332069]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"map-display"},s.a.createElement(L.a,{id:"leaflet-map",center:this.state.center,zoom:this.state.zoom,ref:"map",onMoveend:this.onMapMoveEnd,items:this.props.itemsToDisplay},s.a.createElement(I.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),this.props.itemsToDisplay?this.props.itemsToDisplay.map((function(t,a){return s.a.createElement(D.a,{position:[t.lat,t.lon]},s.a.createElement(T.a,{ref:e.popup},t.name,s.a.createElement("br",null),s.a.createElement(g.Link,{to:"/info/"+t.id},"Display ",t.name," full info")))})):s.a.createElement(D.a,{position:this.state.center})))}}]),t}(n.Component),H=(a(115),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{class:"footer"},s.a.createElement("p",null,"\xa9 2020 Copyright: Amit Galitzky & Jill Nguyen"))}}]),t}(n.Component)),B=(a(116),a(69)),P=(a(117),a(33)),F=a.n(P),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;Object.entries(this.props.crowdsourcingData).map((function(t,a){t[0]==e.props.item.uniqueID&&Object.entries(t[1]).forEach((function(t,a){e.setState(Object(l.a)({},t[0],Object.keys(t[1]).length))}))}))}},{key:"mobilityCheck",value:function(){return this.props.item.mobilityCheck||this.state.wheelchair||this.state.ada||this.state.stadium?s.a.createElement(b.a,{icon:f.e}):s.a.createElement(b.a,{icon:f.t})}},{key:"render",value:function(){var e="/info/"+this.props.id;return s.a.createElement("div",{className:"col"},s.a.createElement(g.Link,{to:e},s.a.createElement("div",{className:"card"},s.a.createElement("img",{class:"card-img-top",src:F.a,alt:"location"}),s.a.createElement("div",{class:"card-body"},s.a.createElement("h5",{class:"card-title"},this.props.item.name),s.a.createElement("p",{class:"card-text text-secondary"},this.props.item.type,s.a.createElement("br",null),this.props.item.addr),s.a.createElement("div",{class:"features"},s.a.createElement("span",null,this.mobilityCheck(),"Mobility"),s.a.createElement("span",null,s.a.createElement(b.a,{icon:this.state.braille||this.state.dn?f.e:f.t}),"Vision"),s.a.createElement("span",null,s.a.createElement(b.a,{icon:this.state.ad||this.state.cc||this.state.als?f.e:f.t}),"Hearing"))))))}}]),t}(n.Component),q=Object(p.o)(_),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).createCards=function(){var e=[],t=[];return a.props.itemsToDisplay.forEach((function(n,i){t.push(s.a.createElement(q,{key:n.name,item:n,id:n.id,crowdsourcingData:a.props.crowdsourcingData})),i%3!=2&&i!=a.props.itemsToDisplay.length-1||(e.push(s.a.createElement("div",{className:"row"},t)),t=[])})),e},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"left-view-home",className:"home-page-info left-view"},s.a.createElement(v,{handleAmenitySearch:this.props.handleAmenitySearch}),s.a.createElement("div",{id:"list",class:"container"},this.props.isFetching?s.a.createElement(B.a,{animation:"border",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")):this.props.noElements?s.a.createElement("div",null,s.a.createElement("p",null,"No results were")):this.createCards()))}}]),t}(n.Component),U=a(70),V=(a(118),a(119),function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"review"},s.a.createElement("div",{class:"info"},s.a.createElement("div",{class:"flex reviewHeader"},s.a.createElement("h5",null,this.props.username)),s.a.createElement("p",{class:"timestamp"},this.props.date),s.a.createElement("p",{class:"reviewContent"},this.props.text)))}}]),t}(n.Component)),z=(a(120),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleSignIn=function(){a.props.renderLocations(),a.props.history.push("/signin")},a.state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(k.a,{id:"authModal",show:this.props.authModal,onHide:this.props.hideAuthModal,"aria-labelledby":"authModal","aria-hidden":"true",centered:!0},s.a.createElement(k.a.Header,{closeButton:!0},s.a.createElement(k.a.Title,{id:"signUpModalLabel"},"Thank you for intiative to give back feedback!")),s.a.createElement(k.a.Body,null,"However in order to become an active member of our community you need to sign in with a Google acount. Click on the button below in order to start the sign up process."),s.a.createElement(k.a.Footer,null,s.a.createElement(w.a,{variant:"secondary",onClick:this.props.hideAuthModal},"Close"),s.a.createElement(w.a,{variant:"primary",onClick:this.handleSignIn},"Sign In")))}}]),t}(n.Component)),K=Object(p.o)(z),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleCrowdsource=function(e,t){Object.entries(e).forEach((function(e,t){var n=a.state.item.uniqueID,s=C.a.database().ref("crowdsourcing/"+n).child(e[0]+"/"+C.a.auth().currentUser.uid);s.once("value").then((function(t){!0===e[1]?s.set({val:1}):s.remove()}))}))},a.hideModal2=function(){a.setState({show2:!1})},a.toggleBoth=function(){a.toggleModal1(),a.toggleModal2()},a.crowdSourceAuth=function(){a.props.fbAuth.currentUser?a.toggleModal1():a.setState({authModal:!0})},a.toggleModal1=function(){a.setState({show1:!a.state.show1})},a.toggleModal2=function(){a.setState({show2:!a.state.show2})},a.toggleReview=function(){a.props.fbAuth.currentUser?a.setState({showTextbox:!a.state.showTextbox}):a.setState({authModal:!0})},a.hideAuthModal=function(){a.setState({authModal:!1})},a.handleChange=function(e){a.setState({reviewText:e.target.value})},a.addReview=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1+"/"+e.getDate()+"/"+t+" "+(e.getHours()>12?e.getHours()-12:e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+(e.getHours()>=12?"PM":"AM"),s="";s=a.props.username?a.props.username:"Anonymous";var i={reviewContent:a.state.reviewText,username:s,date:n},r=a.state.item.uniqueID;C.a.database().ref("reviews/"+r).push({reviewContent:a.state.reviewText,username:s,datePosted:n,time:C.a.database.ServerValue.TIMESTAMP,likes:0,locationName:a.state.item.name}),a.setState({locationReviews:[i].concat(Object(U.a)(a.state.locationReviews))},(function(){a.props.handleReviews(a.state.locationReviews,a.state.item.name)})),a.setState({reviewText:""})},a.state={item:{},show1:!1,show2:!1,authModal:!1,showTextbox:!1,reviewText:"",locationReviews:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.pathname.split("/")[2];this.setState({item:this.props.itemsToDisplay[t]}),Object.entries(this.props.crowdsourcingData).map((function(a,n){a[0]==e.props.itemsToDisplay[t].uniqueID&&Object.entries(a[1]).forEach((function(t,a){e.setState(Object(l.a)({},t[0],Object.keys(t[1]).length))}))}))}},{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[2];this.setState({item:this.props.itemsToDisplay[e]})}},{key:"mobilityCheck",value:function(){return this.state.item.wheelchair||this.state.wheelchair||this.state.ada||this.state.stadium?f.e:f.t}},{key:"renderReviews",value:function(){var e=this,t=[];return this.props.reviews&&Object.entries(this.props.reviews).map((function(a,n){a[0]==e.state.item.uniqueID&&Object.values(a[1]).forEach((function(e,a){t.push(s.a.createElement(V,{id:a,text:e.reviewContent,date:e.datePosted,username:e.username}))}))})),t}},{key:"render",value:function(){var e=this,t=this.state.item,a="http://maps.google.com/?q="+t.longAddress,n="tel:"+t.phone;this.state.item.uniqueID;return s.a.createElement("div",{className:"left-view",id:"info-view"},s.a.createElement("div",{className:"infoHeader flex",id:"info-Header"},s.a.createElement("img",{className:"infoImgPlaceholder",src:F.a,alt:"location"}),s.a.createElement("div",{className:"locationDetails info"},s.a.createElement(g.Link,{to:"/list",id:"back-button",className:"btn btn-outline-primary rounded-pill"},s.a.createElement(b.a,{icon:f.f})),s.a.createElement("h2",null,t.name),s.a.createElement("h6",{className:"text-secondary"},t.type),s.a.createElement("div",{className:"flex info-details"},s.a.createElement(b.a,{icon:f.p,className:"fa-fw","aria-label":"address"}),s.a.createElement("a",{className:"info-link",href:a},t.longAddress)),s.a.createElement("div",{className:"flex info-details"},s.a.createElement(b.a,{icon:f.l,className:"fa-fw","aria-label":"website"}),s.a.createElement("a",{className:"info-link",href:t.website},t.website)),s.a.createElement("div",{className:"flex info-details"},s.a.createElement(b.a,{icon:f.q,className:"fa-fw","aria-label":"phone"}),s.a.createElement("a",{className:"info-link",href:n},t.phone)),s.a.createElement("div",{className:"flex hours-link info-details"},s.a.createElement(b.a,{icon:f.h,className:"fa-fw","aria-label":"hours"}),"Hours: ",t.hours))),s.a.createElement("div",{class:"info"},s.a.createElement(w.a,{id:"edit",variant:"outline-primary",className:"rounded-pill",onClick:function(){return e.crowdSourceAuth()}},"Edit"),s.a.createElement(K,{authModal:this.state.authModal,hideAuthModal:this.hideAuthModal,renderLocations:this.props.renderLocations}),s.a.createElement(x,{show1:this.state.show1,show2:this.state.show2,toggleModal1:this.toggleModal1,toggleModal2:this.toggleModal2,toggleBoth:this.toggleBoth,handleCrowdsource:this.handleCrowdsource,crowdsourcingData:this.props.crowdsourcingData,uniqueID:this.state.item.uniqueID}),s.a.createElement("div",{className:"flex"},s.a.createElement("h4",null,s.a.createElement(b.a,{icon:this.mobilityCheck(),className:"icon","aria-hidden":"true"}),"Mobility related assistance")),s.a.createElement("ul",{className:"list-group list-group-flush nobackground"},s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.mobilityCheck()}),"Wheelchair accessible",this.state.wheelchair&&this.state.item.wheelchair?s.a.createElement("div",{class:"cs-num"},"OpenStreetMap and ",this.state.wheelchair," person(s) endorsed this "):this.state.wheelchair?s.a.createElement("div",{class:"cs-num"}," ",this.state.wheelchair," person(s) endorsed this "):this.state.item.wheelchair?s.a.createElement("div",{class:"cs-num"}," OpenStreetMap endorsed this "):s.a.createElement(s.a.Fragment,null)),s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.ada?f.e:f.t}),"ADA doorways",this.state.ada?s.a.createElement("div",{class:"cs-num"},this.state.ada," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null)),s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.stadium?f.e:f.t}),"Stadium seating",this.state.stadium?s.a.createElement("div",{class:"cs-num"},this.state.stadium," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null))),s.a.createElement("div",{className:"flex"},s.a.createElement("h4",null,s.a.createElement(b.a,{icon:this.state.braille||this.state.dn?f.e:f.t,className:"icon"}),"Vision related assistance")),s.a.createElement("ul",{className:"list-group list-group-flush nobackground"},s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.braille?f.e:f.t}),"Braille",this.state.braille?s.a.createElement("div",{class:"cs-num"},this.state.braille," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null)),s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.dn?f.e:f.t}),"Descriptive narration",this.state.dn?s.a.createElement("div",{class:"cs-num"},this.state.dn," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null))),s.a.createElement("div",{className:"flex"},s.a.createElement("h4",null,s.a.createElement(b.a,{icon:this.state.ad||this.state.cc||this.state.als?f.e:f.t,className:"icon"}),"Hearing related assistance")),s.a.createElement("ul",{className:"list-group list-group-flush nobackground"},s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.ad?f.e:f.t}),"Audio description",this.state.ad?s.a.createElement("div",{class:"cs-num"},this.state.ad," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null)),s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.cc?f.e:f.t}),"Closed captioning",this.state.cc?s.a.createElement("div",{class:"cs-num"},this.state.cc," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null)),s.a.createElement("li",{className:"list-group-item nobackground"},s.a.createElement(b.a,{icon:this.state.als?f.e:f.t}),"Assisted listening devices",this.state.als?s.a.createElement("div",{class:"cs-num"},this.state.als," person(s) endorsed this "):s.a.createElement(s.a.Fragment,null))),s.a.createElement("hr",null),s.a.createElement("div",{className:"photos"},s.a.createElement("h4",null,"Photos"),s.a.createElement("div",{className:"images"},s.a.createElement("img",{className:"infoImg",src:F.a,alt:"placeholder"}),s.a.createElement("img",{className:"infoImg",src:F.a,alt:"placeholder"}),s.a.createElement("img",{className:"infoImg",src:F.a,alt:"placeholder"}),s.a.createElement("img",{className:"infoImg",src:F.a,alt:"placeholder"}))),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement("div",{className:"flex reviewHeader"},s.a.createElement("h4",{className:"reviews-title"},"Reviews"),s.a.createElement("div",{className:"flex reviews-buttons"},s.a.createElement("button",{type:"button",className:"btn btn-outline-primary rounded-pill",id:"write-review",onClick:this.toggleReview},"Write a Review"),s.a.createElement(K,{authModal:this.state.authModal,hideAuthModal:this.hideAuthModal,renderLocations:this.props.renderLocations}))),s.a.createElement("form",{id:"review-form",style:this.state.showTextbox?{display:"block"}:{display:"none"}},s.a.createElement("div",{class:"form-group"},s.a.createElement("textarea",{class:"form-control",rows:"3",id:"review-input",onChange:this.handleChange,value:this.state.reviewText}),s.a.createElement("button",{type:"button",class:"btn btn-primary rounded-pill",id:"review-submit",onClick:this.addReview,disabled:""==this.state.reviewText},"Submit"))),s.a.createElement("hr",null),s.a.createElement("div",{id:"reviews"},this.renderReviews()))))}}]),t}(n.Component),G=(a(121),a(122),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.login()}},{key:"render",value:function(){return s.a.createElement("div",{class:"signin-outer"},s.a.createElement("div",{class:"signin-text"},s.a.createElement("h1",null,"Sign In To Make A Difference!")),s.a.createElement("div",{id:"signin-bkg"},s.a.createElement(N.a,{uiConfig:this.props.uiConfig,firebaseAuth:this.props.fbAuth()})),s.a.createElement("div",{class:"signin-text"},s.a.createElement("p",{id:"credits"},"Photo by Sergei Akulich from Pexels")))}}]),t}(n.Component));a(123);C.a.initializeApp({apiKey:"AIzaSyC5PS9Zb6WY-lcoIAC5KkdeAkFuozlYkYw",authDomain:"accessibility-finder.firebaseapp.com",databaseURL:"https://accessibility-finder.firebaseio.com",projectId:"accessibility-finder",storageBucket:"accessibility-finder.appspot.com",messagingSenderId:"781510677391",appId:"1:781510677391:web:25b4d030e7615decc731fa",measurementId:"G-BCRK4KDM9V"});var J={signInFlow:"popup",signInSuccessUrl:"",signInOptions:[C.a.auth.GoogleAuthProvider.PROVIDER_ID]},Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleSignOut=function(){C.a.auth().signOut(),a.setState({isSignedIn:!1})},a.handleSearchBar=function(e){a.setState({onSignInPage:!1}),a.setState({itemsToDisplay:[],searchText:e,fetchingNominatim:!0})},a.handleAmenitySearch=function(e){a.setState({amenity:e,fetchingAmenity:!0})},a.renderLocation=function(){a.setState({displayedListItems:[]}),a.setState({onSignInPage:!1})},a.handleReviews=function(e,t){a.setState((function(a){return{reviewList:Object(c.a)({},a.reviewList,Object(l.a)({},t,e))}}))},a.handleMapMovement=function(e){a.mapBoundNomi(e),a.mapBoundOverpass(e)},a.mapBoundNomi=function(e){var t=[];t.push(e._southWest),t.push(e._northEast);var n=t[0].lng+","+t[0].lat+","+t[1].lng+","+t[1].lat;a.setState({searchLatLong:n})},a.mapBoundOverpass=function(e){var t=[];t.push(e._southWest),t.push(e._northEast);var n=t[0].lat+","+t[0].lng+","+t[1].lat+","+t[1].lng;a.setState({amenityLatLong:n})},a.isLoggingIn=function(){a.setState({onSignInPage:!0})},a.processData=function(e){if(0!=e.length){var t=[];e.forEach((function(e,a){if(!(a>100)){var n={name:"",type:"",addr:"",mobilityCheck:"",longAddress:"",website:"",phone:"",hours:"",lat:"",lon:"",id:"",uniqueID:""};null!=e.licence?(n.name=e.address[Object.keys(e.address)[0]],n.type=(e.type.charAt(0).toUpperCase()+e.type.substring(1)).replace(/_/g," "),n.addr=null!=e.address.house_number?e.address.house_number+" "+e.address.road:"Address unavailable",n.mobilityCheck=null!=e.extratags.wheelchair,n.longAddress=null!=e.address.house_number?e.address.house_number+" "+e.address.road+", "+e.address.city+", "+e.address.state+" "+e.address.postcode:"Address unavailable",n.website=null!=e.extratags.website?e.extratags.website:"-",n.phone=null!=e.extratags.phone?e.extratags.phone:"-",n.hours=null!=e.extratags.opening_hours?e.extratags.opening_hours:"-",n.wheelchair=e.extratags.wheelchair,n.lat=e.lat,n.lon=e.lon,n.id=a,n.uniqueID=e.osm_id):(n.name=e.tags.name,n.type=e.tags.amenity.charAt(0).toUpperCase()+e.tags.amenity.substring(1),n.addr=null!=e.tags["addr:housenumber"]?e.tags["addr:housenumber"]+" "+e.tags["addr:street"]:"Address unavailable",n.mobilityCheck=null!=e.tags.wheelchair,n.longAddress=null!=e.tags["addr:housenumber"]?e.tags["addr:housenumber"]+" "+e.tags["addr:street"]+", "+e.tags["addr:city"]+" "+e.tags["addr:postcode"]:"Address unavailable",n.website=null!=e.tags.website?e.tags.website:"--",n.phone=null!=e.tags.phone?e.tags.phone:"--",n.hours=null!=e.tags.opening_hours?e.tags.opening_hours:"  --",n.wheelchair=e.tags.wheelchair,n.lat=e.lat,n.lon=e.lon,n.id=a,n.uniqueID=e.id),t.push(n)}})),a.setState({displayedListItems:t})}else a.setState({noElements:!0})},a.state={displayedListItems:[],fetchingAmenity:!1,amenity:"",amenityLatLong:"47.481002,-122.459696,47.734136,-122.224433",searchLatLong:"-122.459696,47.481002,-122.224433,47.734136",noElements:!1,fetchingNominatim:!1,searchText:"",reviewList:{},isSignedIn:!1,onSignInPage:!1,userName:"Anonymous"},a.favoritesRef=C.a.database().ref("favorites"),a.crowdsourcingRef=C.a.database().ref("crowdsourcing"),a.reviewsRef=C.a.database().ref("reviews"),a.crowdsourcingRef.on("value",(function(e){console.log("something changed on firebase, so I will reset state"),a.setState({crowdsourcing:e.val()})})),a.reviewsRef.on("value",(function(e){console.log("something changed on firebase, so I will reset state"),a.setState({reviews:e.val()})})),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=C.a.auth().onAuthStateChanged((function(t){t&&e.favoritesRef.child(t.uid).on("value",(function(t){console.log("the value of favorites/userid changed, so i reset the state"),e.setState({favorites:t.val()})}));e.setState({userName:t.displayName}),e.setState({isSignedIn:!!t,onSignInPage:!1,usern:t})}))}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"componentDidUpdate",value:function(){var e=this;this.state.fetchingAmenity&&fetch("https://www.overpass-api.de/api/interpreter?data=[timeout:1][out:json];node[amenity="+this.state.amenity+"]("+this.state.amenityLatLong+");out%20meta;").then((function(e){return e.json()})).then((function(t){e.processData(t.elements),e.setState({fetchingAmenity:!1}),e.setState({redirect:!0})})),this.state.fetchingNominatim&&fetch("https://nominatim.openstreetmap.org/search?q="+this.state.searchText+"&format=json&viewbox="+this.state.searchLatLong+"&bounded=1&extratags=1&addressdetails=1").then((function(e){return e.json()})).then((function(t){e.processData(t),e.setState({fetchingNominatim:!1}),e.setState({redirect:!0}),e.setState({searchText:""})}))}},{key:"render",value:function(){var e=this;return console.log(this.state.displayedListItems),s.a.createElement("main",null,s.a.createElement(M,{handleSearch:this.handleSearchBar,renderLocations:this.renderLocation,uiConfig:J,fbAuth:C.a.auth,isSignedIn:this.state.isSignedIn,handleSignOut:this.handleSignOut,user:this.state.userName}),s.a.createElement(p.g,null,s.a.createElement(p.d,{path:"/signin"}," ",C.a.auth().currentUser?s.a.createElement(p.c,{to:"/"}):s.a.createElement(G,{login:this.isLoggingIn,uiConfig:J,fbAuth:C.a.auth})," "),s.a.createElement(p.d,{exact:!0,path:"/",render:function(t){return s.a.createElement(S,Object.assign({},t,{handleAmenitySearch:e.handleAmenitySearch}))}}),s.a.createElement(p.d,{path:"/list",render:function(t){return s.a.createElement(W,Object.assign({},t,{itemsToDisplay:e.state.displayedListItems,handleAmenitySearch:e.handleAmenitySearch,isFetching:e.state.fetchingAmenity||e.state.fetchingNominatim,crowdsourcingData:e.state.crowdsourcing}))}}),s.a.createElement(p.d,{path:"/info/:id",render:function(t){return s.a.createElement(Y,Object.assign({},t,{handleReviews:e.handleReviews,reviewList:e.state.reviewList,itemsToDisplay:e.state.displayedListItems,username:e.state.userName,reviewRef:e.reviewsRef,reviews:e.state.reviews,fbAuth:C.a.auth(),renderLocations:e.renderLocation,crowdsourcingData:e.state.crowdsourcing}))}})),this.state.onSignInPage?s.a.createElement(s.a.Fragment,null):s.a.createElement(R,{handleMapMovement:this.handleMapMovement,itemsToDisplay:this.state.displayedListItems}),s.a.createElement(H,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(g.HashRouter,null,s.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t,a){e.exports=a.p+"static/media/placeholder.cb1646ac.png"},73:function(e,t,a){e.exports=a(124)},78:function(e,t,a){},79:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},80:function(e,t,a){},81:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.0797ba96.chunk.js.map